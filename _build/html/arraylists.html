<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ArrayLists &mdash; MyJava 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="MyJava 0.1 documentation" href="index.html" />
    <link rel="next" title="Maps" href="maps.html" />
    <link rel="prev" title="Arrays" href="arrays.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="maps.html" title="Maps"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="arrays.html" title="Arrays"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">MyJava 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="arraylists">
<span id="id1"></span><h1>ArrayLists<a class="headerlink" href="#arraylists" title="Permalink to this headline">Â¶</a></h1>
<p>In a previous section we looked at Java arrays, which are similar to the arrays found in C and C++.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">Test</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">A</span> <span class="o">=</span> <span class="o">{</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">6</span><span class="o">,</span> <span class="mi">4</span> <span class="o">};</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="nl">i:</span> <span class="n">A</span><span class="o">)</span> <span class="o">{</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&quot;%d &quot;</span><span class="o">,</span> <span class="n">i</span><span class="o">);</span> <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>This code does what you&#8217;d expect.  It prints:</p>
<div class="highlight-bash"><div class="highlight"><pre>&gt; javac Test.java
&gt; java Test
1 3 6 4
&gt;
</pre></div>
</div>
<p>However, this type of array has several limitations.  Basically, the only way to work with the values is to access them like <tt class="docutils literal"><span class="pre">println(A[2]);</span></tt>, or use the for-each construct as a way of doing the same thing behind the scenes.  There is a property <tt class="docutils literal"><span class="pre">length</span></tt>.  If we add this:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">A</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
</pre></div>
</div>
<p>we get the additional output:</p>
<div class="highlight-bash"><div class="highlight"><pre>4
</pre></div>
</div>
<p>But that&#8217;s it.  There is no way to sort, or reverse, and such an array can only hold primitive types, not objects, with the exception of Strings.  The size (length) is fixed and cannot be altered.  Finally, one can crash the program by attempting to access an invalid index.</p>
<p>Consider this code, which is <em>almost</em> correct:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">Test</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">A</span> <span class="o">=</span> <span class="o">{</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">6</span><span class="o">,</span> <span class="mi">4</span> <span class="o">};</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">A</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&quot;%d &quot;</span><span class="o">,</span> <span class="n">A</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-bash"><div class="highlight"><pre>&gt; javac Test.java
&gt; java Test
1 3 6 4 Exception in thread <span class="s2">&quot;main&quot;</span> java.lang.ArrayIndexOutOfBoundsException: 4
    at Test.main<span class="o">(</span>Test.java:5<span class="o">)</span>
&gt;
</pre></div>
</div>
<p>To solve these problems, Java provides a number of container classes, like the Array List.  Here is an example of how to use this container.  The example shows two ways of making an ArrayList, how to get an iterator to move through one, and a <tt class="docutils literal"><span class="pre">sort</span></tt> method, which works so long as the objects in the ArrayList have a notion of how to compare one with the other.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">ArrayStuff</span> <span class="o">{</span>
    <span class="c1">// iterator</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">pp</span><span class="o">(</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">A</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Iterator</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">it</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>
        <span class="k">while</span><span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">());</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// ArrayList</span>
        <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">C</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;()</span> <span class="o">{{</span>
            <span class="n">add</span><span class="o">(</span><span class="s">&quot;z&quot;</span><span class="o">);</span>
            <span class="n">add</span><span class="o">(</span><span class="s">&quot;y&quot;</span><span class="o">);</span>
            <span class="n">add</span><span class="o">(</span><span class="s">&quot;x&quot;</span><span class="o">);</span> <span class="o">}};</span>
        <span class="c1">// iterator</span>
        <span class="n">pp</span><span class="o">(</span><span class="n">C</span><span class="o">);</span>
        <span class="n">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">C</span><span class="o">);</span>
        <span class="n">pp</span><span class="o">(</span><span class="n">C</span><span class="o">);</span>

        <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">D</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;();</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="nl">s:</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">&quot;j&quot;</span><span class="o">,</span><span class="s">&quot;k&quot;</span><span class="o">,</span><span class="s">&quot;l&quot;</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">D</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">pp</span><span class="o">(</span><span class="n">D</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>To extend this example, we add something to the <tt class="docutils literal"><span class="pre">Obj</span></tt> class definition shown previously</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">Obj</span> <span class="kd">implements</span> <span class="n">Comparable</span><span class="o">&lt;</span><span class="n">Obj</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="c1">// counter for total number of objects</span>
    <span class="kd">static</span> <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nf">Obj</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">){</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">s</span><span class="o">;</span>
        <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%d: %s&quot;</span><span class="o">,</span> <span class="n">count</span><span class="o">,</span> <span class="n">name</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compareTo</span><span class="o">(</span><span class="n">Obj</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">o</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The first line has become</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">Obj</span> <span class="kd">implements</span> <span class="n">Comparable</span><span class="o">&lt;</span><span class="n">Obj</span><span class="o">&gt;</span> <span class="o">{</span>
</pre></div>
</div>
<p>and we have a new function:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="kt">int</span> <span class="nf">compareTo</span><span class="o">(</span><span class="n">Obj</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">name</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">o</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
<p>If we then paste this onto the end of <tt class="docutils literal"><span class="pre">main</span></tt>:</p>
<div class="highlight-java"><div class="highlight"><pre>System.out.println(&#39;sorted:&#39;);
Collections.sort(A);
for (Obj o:A) { System.out.println(o); }
</pre></div>
</div>
<p>From the command line we get the additional output:</p>
<div class="highlight-bash"><div class="highlight"><pre>sorted:
3: Joan
3: Sean
3: Tom
&gt;
</pre></div>
</div>
<p>You can see that the objects are sorted lexicographically according to name, but they could be sorted according to any property by changing the <tt class="docutils literal"><span class="pre">compareTo</span></tt> function.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="arrays.html"
                        title="previous chapter">Arrays</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="maps.html"
                        title="next chapter">Maps</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/arraylists.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="maps.html" title="Maps"
             >next</a> |</li>
        <li class="right" >
          <a href="arrays.html" title="Arrays"
             >previous</a> |</li>
        <li><a href="index.html">MyJava 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Tom Elliott.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>